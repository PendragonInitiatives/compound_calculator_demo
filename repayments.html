<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PM Project Change | Home Loan Calculator</title>
  <link rel="stylesheet" href="styles.css" />
  <!-- Chart.js CDN -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <!-- Header -->
  <header class="site-header">
    <h1 class="brand">PM Project Change</h1>
    <nav>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="repayments.html" class="active">Home Loan Calculator</a></li>
      </ul>
    </nav>
  </header>

  <!-- Page Title -->
  <section class="hero small">
    <h2>🏡 Home Loan Repayments Calculator</h2>
    <p>See how extra repayments, offset accounts, and lump sums can help you 
       save money and finish your loan sooner.</p>
  </section>

  <main class="calculator-container">
    <!-- Basic Loan Details -->
    <section class="calc-section">
      <h3>📋 Loan Details</h3>
      <label>Loan Amount ($): <input type="number" id="loanAmount" value="500000" onchange="calculateAll()" /></label>
      <label>Interest Rate (%): <input type="number" id="interestRate" value="5" step="0.1" onchange="calculateAll()" /></label>
      <label>Loan Term (years): <input type="number" id="loanTerm" value="30" onchange="calculateAll()" /></label>
      <label>Repayment Frequency: 
        <select id="repaymentFrequency" onchange="calculateAll()">
          <option value="monthly">Monthly</option>
          <option value="fortnightly">Fortnightly</option>
          <option value="weekly">Weekly</option>
        </select>
      </label>
      <div id="frequencySavings" class="note"></div>
    </section>

    <!-- Extra Repayments -->
    <section class="calc-section">
      <h3>💵 Extra Repayments</h3>
      <input type="range" id="extraRepayments" min="0" max="2000" step="10" value="0" oninput="calculateAll()" />
      <div id="extraSavings" class="savings-box"></div>
    </section>

    <!-- Offset Account -->
    <section class="calc-section">
      <h3>🏦 Offset Account</h3>
      <input type="range" id="offsetAmount" min="0" max="500000" step="10000" value="0" oninput="calculateAll()" />
      <div id="offsetSavings" class="savings-box"></div>
    </section>

    <!-- Lump Sum -->
    <section class="calc-section">
      <h3>💰 Lump Sum</h3>
      <input type="range" id="lumpSum" min="0" max="1000000" step="1000" value="0" oninput="calculateAll()" />
      <div id="lumpSavings" class="savings-box"></div>
    </section>

    <!-- Combined Piggy Bank Savings -->
    <section class="calc-section piggy-box">
      <h3>🐖 Combined Savings</h3>
      <p>By using your strategies together, you could save:</p>
      <div class="combined-savings">
        <div>💡 Interest saved: <span id="totalInterestSaved">$0</span></div>
        <div>⏱ Time saved: <span id="totalTimeSaved">0 years</span></div>
      </div>
    </section>

    <!-- Loan Summary -->
    <section class="calc-section">
      <h3>📊 Loan Summary</h3>
      <div class="summary-grid">
        <div>
          <p>Total Payments</p>
          <p id="summaryTotalPayments" class="summary-value">$0</p>
        </div>
        <div>
          <p>Total Principal</p>
          <p id="summaryTotalPrincipal" class="summary-value">$0</p>
        </div>
        <div>
          <p>Total Interest</p>
          <p id="summaryTotalInterest" class="summary-value">$0</p>
        </div>
        <div>
          <p>Loan Term Saved</p>
          <p id="summaryYearsSaved" class="summary-value">0 years</p>
        </div>
      </div>
    </section>

    <!-- Loan Chart -->
    <section class="calc-section">
      <h3>📈 Loan Balance Over Time</h3>
      <canvas id="loanChart"></canvas>
    </section>

    <!-- Amortization Table -->
    <section class="calc-section">
      <h3>📑 Amortization Schedule (Yearly)</h3>
      <table class="amortization-table">
        <thead>
          <tr>
            <th>Year</th>
            <th>Total Payments</th>
            <th>Principal Paid</th>
            <th>Interest Paid</th>
            <th>Balance</th>
          </tr>
        </thead>
        <tbody id="amortizationTableBody"></tbody>
      </table>
    </section>
  </main>

  <!-- Footer -->
  <footer class="site-footer">
    <p>© 2025 PM Project Change. All rights reserved.</p>
  </footer>

  <!-- Script -->
  <script src="script.js"></script>
</body>
</html>
